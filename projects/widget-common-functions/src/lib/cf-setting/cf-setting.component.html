
<div class="modal-header">
  <h4 class="modal-title pull-left">应用设置</h4>
  <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body d-flex flex-column p-0">

  <div class="row-header pt-2 pb-2 pl-3 pr-3 border-bottom">
    <i class="material-icons align-middle text-brand">widgets</i>
    <span class="fs-16 ml-2 align-middle">我的应用</span>
    <!-- TODO: 搜索框 -->
  </div>

  <div class="row-main d-flex flex-fill">
    <div class="left flex-shrink-0 border-right">
      <accordion class="pt-1 pb-3">
        <accordion-group *ngFor="let menu1 of menu12List"
          (isOpenChange)="handleMenu1OpenChange($event, menu1)">
          <div class="menu1 fs-14" accordion-heading>
            <ng-container *ngTemplateOutlet="icon"></ng-container>
            <span class="font-weight-bold align-middle pl-2">{{menu1.name}}</span>
            <i class="icon-closed right-icon material-icons">chevron_right</i>
            <i class="icon-opened right-icon material-icons">expand_more</i>
          </div>
          <ul>
            <li *ngFor="let menu2 of menu1.children"
              [class.active]="selectedMenu2 && menu2==selectedMenu2"
              (click)="handleSelectMenu2(menu2) "
            >{{menu2.name}}</li>
          </ul>
        </accordion-group>
      </accordion>
    </div>
    <ul class="right pl-3 pr-3 pt-2 pb-2 flex-fill">
      <li *ngFor="let menu3 of menu34List">
        <div class="pt-2 pb-1 mb-1 border-bottom font-weight-bold">{{menu3.name}}</div>
        <ul class="d-flex flex-wrap">
          <li class="fs-14 pt-1 pb-1" *ngFor="let menu4 of menu3.children">
            <div class="custom-control custom-checkbox">
              <input [checked]='getMenu4Checked(menu4)'
                (change)="handleMenu4SelectChange($event, menu4)"
                type="checkbox"
                class="custom-control-input"
                [id]="menu4.id">
              <label class="custom-control-label fs-14 pl-0"
                [for]="menu4.id">{{menu4.name}}</label>
            </div>
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="row-status">
    <i class="material-icons text-brand fs-16 align-middle">info</i>
    已选择
    <span class="text-brand">{{selectedMenu4List.length}}</span>
    项应用
    <button class="text-brand clear-btn pl-3"
      (click)="selectedMenu4List=[]"
    >清空</button>
  </div>

  <div class="row-selected">
    <ul class="d-flex pl-2 pr-2 flex-wrap">
      <li *ngFor="let menu4 of selectedMenu4List"
        class="text-center pt-3 pb-3">
        <!-- 删除按钮 -->
        <i class="material-icons remove-btn"
          (click)="removeSelectedMenu4(menu4)">cancel</i>
        <!-- TODO: img -->
        <ng-container *ngTemplateOutlet="icon"></ng-container>
        <div class="text-truncate pt-1">{{menu4.name}}</div>
      </li>
    </ul>
  </div>

</div>
<div class="modal-footer">
  <button type="button"
    class="btn btn-primary"
    [class.loading]="false" >
    保存</button>
  <button type="button" class="btn btn-default" (click)="modalRef.hide()">取消</button>
</div>



<ng-template #icon>
    <svg class="icon" width="37px" height="37px" viewBox="0 0 37 37" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <!-- Generator: Sketch 52.5 (67469) - http://www.bohemiancoding.com/sketch -->
        <title>Group 4</title>
        <desc>Created with Sketch.</desc>
        <defs>
            <linearGradient x1="163.898341%" y1="25.4625485%" x2="80.3273068%" y2="83.3923931%" id="linearGradient-1">
                <stop stop-color="#00CDBB" offset="0%"></stop>
                <stop stop-color="#00BCAE" offset="100%"></stop>
            </linearGradient>
            <linearGradient x1="5.51055953%" y1="0.530993833%" x2="80.3273068%" y2="83.3923931%" id="linearGradient-2">
                <stop stop-color="#00D9C3" offset="0%"></stop>
                <stop stop-color="#00C9B8" offset="100%"></stop>
            </linearGradient>
            <path d="M25.4676923,4 L4.53115385,4 C2.03884615,4 0,6.09696071 0,8.65885841 L0,23.0209044 C6.98076923,30.8038547 16.9038462,35.7461824 27.9553846,36 C29.0976923,35.8837658 30,34.8969607 30,33.6942921 L30,8.65885841 C30,6.09696071 27.96,4 25.4676923,4" id="path-3"></path>
            <linearGradient x1="89.5410308%" y1="9.80707309%" x2="17.8299574%" y2="77.7717921%" id="linearGradient-5">
                <stop stop-color="#FFFFFF" stop-opacity="0.636775362" offset="0%"></stop>
                <stop stop-color="#59C1C3" offset="100%"></stop>
            </linearGradient>
            <linearGradient x1="27.4642157%" y1="6.42847405%" x2="86.6472331%" y2="64.874659%" id="linearGradient-6">
                <stop stop-color="#FFFFFF" stop-opacity="0.636775362" offset="0%"></stop>
                <stop stop-color="#00D0B9" offset="100%"></stop>
            </linearGradient>
        </defs>
        <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="GS-Cloud首页" transform="translate(-1080.000000, -138.000000)">
                <g id="Group-13" transform="translate(964.000000, 138.000000)">
                    <g id="Group-4" transform="translate(116.000000, 0.500000)">
                        <g id="Group-7">
                            <path d="M4.53230769,4 L25.4688462,4 C27.9611538,4 30,6.09696071 30,8.65885841 L30,23.0209044 C23.0192308,30.8038547 13.0961538,35.7461824 2.04461538,36 C0.902307692,35.8837658 0,34.8969607 0,33.6942921 L0,8.65885841 C0,6.09696071 2.04,4 4.53230769,4" id="Fill-1" fill="url(#linearGradient-1)"></path>
                            <g id="Mask">
                                <g id="Fill-1">
                                    <g id="Fill-2">
                                        <mask id="mask-4" fill="white">
                                            <use xlink:href="#path-3"></use>
                                        </mask>
                                        <use id="Mask" fill="url(#linearGradient-2)" xlink:href="#path-3"></use>
                                        <path d="M10.5323077,0 L31.4688462,0 C33.9611538,0 36,2.09696071 36,4.65885841 L36,19.0209044 C29.0192308,26.8038547 19.0961538,31.7461824 8.04461538,32 C6.90230769,31.8837658 6,30.8969607 6,29.6942921 L6,4.65885841 C6,2.09696071 8.04,0 10.5323077,0" id="Fill-1" fill="url(#linearGradient-5)" style="mix-blend-mode: multiply;" opacity="0.15" mask="url(#mask-4)" transform="translate(21.000000, 16.000000) scale(-1, 1) translate(-21.000000, -16.000000) "></path>
                                        <path d="M31.5647121,3.90798505e-14 C34.0665143,3.90798505e-14 36.1142857,2.10070528 36.1142857,4.6671778 L36.1142857,29.7473176 C36.1142857,30.9521339 35.2085407,31.940701 34.0618813,32.0571429 C22.9682418,31.802872 13.0073626,26.8517187 6,19.0548703 L6,4.6671778 C6,2.10070528 8.04661319,3.90798505e-14 10.5484154,3.90798505e-14 L31.5647121,3.90798505e-14 Z" fill="url(#linearGradient-6)" style="mix-blend-mode: multiply;" opacity="0.2"></path>
                                    </g>
                                    <path d="M16.0081243,12.5779077 L17.348964,15.1950348 C17.5069364,15.501768 17.8087538,15.7145024 18.16066,15.7627387 L21.1595685,16.18326 C22.0431869,16.3069428 22.3963774,17.3520621 21.7567815,17.9531603 L19.5862653,19.9902153 C19.3319681,20.228923 19.2163785,20.5715242 19.276742,20.9079413 L19.7891893,23.7848023 C19.9407401,24.633266 19.0160232,25.27889 18.2261607,24.8781578 L15.5431972,23.5201212 C15.2298209,23.3618072 14.8547968,23.3618072 14.5401361,23.5201212 L11.8584569,24.8781578 C11.0673102,25.27889 10.1438775,24.633266 10.294144,23.7848023 L10.8065914,20.9079413 C10.8669548,20.5715242 10.7513652,20.228923 10.497068,19.9902153 L8.3265518,17.9531603 C7.6869559,17.3520621 8.04014641,16.3069428 8.92376485,16.18326 L11.9226734,15.7627387 C12.2745796,15.7145024 12.5776812,15.501768 12.7343694,15.1950348 L14.075209,12.5779077 C14.4707824,11.8073641 15.612551,11.8073641 16.0081243,12.5779077" fill="#FFFFFF"></path>
                                </g>
                            </g>
                        </g>
                    </g>
                </g>
            </g>
        </g>
    </svg>
</ng-template>